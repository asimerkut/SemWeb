create or replace view v_stk as select doc.fiscal_period1_id, doc.fiscal_period2_id, doc.doc_date, dtl.item_id, itm.code item_code, itm.name item_name, dtl.department_id, dpr.code department_code, dpr.name department_name, dtl.base_detail_count, dtl.tr_state_detail from tra_detail dtl, stk_document doc, def_item itm, org_department dpr where doc.id = dtl.document_stk_id and itm.id = dtl.item_id and dpr.id = dtl.department_id
CREATE OR REPLACE VIEW v_budget AS SELECT doc.fiscal_year_id, det.fiscal_period_id, det.budget_rx, det.budget_type, det.budget_amount* (CASE WHEN det.budget_rx = 'BUD_R' THEN 1 ELSE (-1) END) tutar FROM budget_detail det, budget_document doc WHERE det.document_id = doc.id;
