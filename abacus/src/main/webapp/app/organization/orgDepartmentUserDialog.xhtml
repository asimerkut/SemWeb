<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<title>Departman Yetkilileri</title>

	<h:outputStylesheet library="default" name="css/abacus.css" />
	<h:outputScript library="default" name="js/abacus.js" />


</h:head>

<h:body>
	<h:form id="departmentUserForm">

		<p:panel>
			<h:outputLabel
				value="#{orgDepartmentUserViewBean.selDepartment.name}" />
		</p:panel>


		<p:panel id="departmentUserPanel" header="Department">
			<h:panelGrid id="departmentGrid" columns="8" cellpadding="2">

				<h:outputLabel value="Kullanıcı:" />
				<p:selectOneMenu value="#{orgDepartmentViewBean.selectedGroupEnum}"
					style="width:145px">
					<f:selectItems value="#{OrgDepartmentGroupEnum}" var="groupEnum"
						itemLabel="#{groupEnum.description}" />
					<p:ajax event="change" update=":departmentUserForm"
						listener="#{orgDepartmentViewBean.groupChangeListener}"
						process="@this" />
				</p:selectOneMenu>
				
			</h:panelGrid>

			<f:facet name="footer">
				<p:commandButton id="saveDepartmentUser" update=":departmentUserForm"
					ajax="true"
					value="Onayla"
					actionListener="#{orgDepartmentUserViewBean.saveDepartmentUserList}" />
				<p:commandButton id="createDepartmentUser" update=":departmentUserForm"
					ajax="true"
					value="#{'Ekle'}"
					actionListener="#{orgDepartmentUserViewBean.createDepartmentUser}"
					process="@this">
					<p:resetInput target=":departmentUserForm" />
				</p:commandButton>
				<p:commandButton id="deleteDepartmentUser" update=":departmentUserForm"
					ajax="true"
					value="#{orgDepartmentUserViewBean.selDepartmentUser.id == null ? '-' : 'Sil'}"
					actionListener="#{orgDepartmentUserViewBean.deleteDepartmentUser}"
					immediate="true" />
			</f:facet>
		</p:panel>

		<p:dataTable id="departmentUserTable" var="selDepartmentUser"
			value="#{orgDepartmentUserViewBean.selDepartment.departmentUserList}"
			selection="#{orgDepartmentUserViewBean.selDepartmentUser}"
			emptyMessage="Kayit Bulanamadi" selectionMode="single"
			paginator="true" paginatorPosition="bottom"
			rowKey="#{selDepartmentUser.id}" rows="10" resizableColumns="true">

			<p:ajax event="rowSelect" update=":departmentUserForm"
				listener="#{orgDepartmentUserViewBean.departmentUserRowSelectListener}">
			</p:ajax>

			<p:column headerText="Kullanici">  
           					#{selDepartmentUser.id}  
       		</p:column>

			<p:column headerText="Depo Giris">
				<p:selectBooleanCheckbox value="#{selDepartmentUser.authInput}" />
			</p:column>

			<p:column headerText="Depo Cikis">
				<p:selectBooleanCheckbox value="#{selDepartmentUser.authOutput}" />
			</p:column>

		</p:dataTable>


	</h:form>
</h:body>

</html>