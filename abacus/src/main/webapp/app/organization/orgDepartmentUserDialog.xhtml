<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<title>Departman Yetkilileri</title>

	<h:outputStylesheet library="default" name="css/abacus.css" />
	<h:outputScript library="default" name="js/abacus.js" />


</h:head>

<h:body>
	<h:form id="departmentUserForm">

		<p:panel>
			<h:outputLabel
				value="#{orgDepartmentUserViewBean.selDepartment.name}" />
		</p:panel>


		<p:panel id="departmentUserPanel" header="Department">
			<h:panelGrid id="departmentGrid" columns="8" cellpadding="2">

				<h:outputLabel value="Kullanici:" />
					<h:panelGrid columns="3">
						<p:inputText id="userComponent"
							value="#{orgDepartmentUserViewBean.selDepartmentUser.user.id}"
							required="true" requiredMessage="Kullanici bos olamaz" />
						<p:commandButton icon="ui-icon-extlink"
							actionListener="#{orgDepartmentUserViewBean.chooseUser}" process="@this">
							<p:ajax event="dialogReturn"
								listener="#{orgDepartmentUserViewBean.onUserChosen}"
								update=":departmentUserForm" />
						</p:commandButton>
						<p:commandButton icon="ui-icon-trash"
							actionListener="#{orgDepartmentUserViewBean.clearUser}" process="@this"
							update=":departmentUserForm" />
					</h:panelGrid>
				
				
			</h:panelGrid>

			<f:facet name="footer">
				<p:commandButton id="saveDepartmentUser" update=":departmentUserForm"
					ajax="true"
					value="#{orgDepartmentUserViewBean.selDepartmentUser.id == null ? 'Ekle' : 'Guncelle'}"
					actionListener="#{orgDepartmentUserViewBean.saveDepartmentUserList}" />
				
				<p:commandButton id="deleteDepartmentUser" update=":departmentUserForm"
					ajax="true"
					value="#{orgDepartmentUserViewBean.selDepartmentUser.id == null ? '-' : 'Sil'}"
					actionListener="#{orgDepartmentUserViewBean.deleteDepartmentUser}"
					immediate="true" />

				<p:commandButton id="clearDepartmentUser" update=":departmentUserForm"
					ajax="true"
					value="#{orgDepartmentUserViewBean.selDepartmentUser.id == null ? 'Temizle' : 'Yeni Kayit'}"
					actionListener="#{orgDepartmentUserViewBean.createDepartmentUser}">
				</p:commandButton>					
			</f:facet>
		</p:panel>

		<p:dataTable id="departmentUserTable" var="selDepartmentUser"
			value="#{orgDepartmentUserViewBean.selDepartment.departmentUserList}"
			selection="#{orgDepartmentUserViewBean.selDepartmentUser}"
			emptyMessage="Kayit Bulanamadi" selectionMode="single"
			paginator="true" paginatorPosition="bottom"
			rowKey="#{selDepartmentUser.id}" rows="10" resizableColumns="true">

			<p:ajax event="rowSelect" update=":departmentUserForm"
				listener="#{orgDepartmentUserViewBean.departmentUserRowSelectListener}">
			</p:ajax>

			<p:column headerText="Kullanici">  
           					#{selDepartmentUser.user.id}  
       		</p:column>

			<p:column headerText="Depo Giris">
				<p:selectBooleanCheckbox value="#{selDepartmentUser.authInput}" />
			</p:column>

			<p:column headerText="Depo Cikis">
				<p:selectBooleanCheckbox value="#{selDepartmentUser.authOutput}" />
			</p:column>

		</p:dataTable>


	</h:form>
</h:body>

</html>